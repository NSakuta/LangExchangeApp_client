(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,r){},225:function(e,t,r){},226:function(e,t,r){},227:function(e,t,r){},228:function(e,t,r){},229:function(e,t,r){},230:function(e,t,r){},231:function(e,t,r){},232:function(e,t,r){},233:function(e,t,r){},234:function(e,t,r){},235:function(e,t,r){},236:function(e,t,r){},237:function(e,t,r){},238:function(e,t,r){},239:function(e,t,r){},249:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(29),c=r.n(s),i=(r(99),r(54),r(6)),A=(r(100),r(2)),g=r(14),o=r(3),l=r.n(o),u=r(5),d=r(91),j=r.n(d).a.create({baseURL:"https://cors-everywhere.herokuapp.com/http://ec2-3-21-19-104.us-east-2.compute.amazonaws.com/api"});j.interceptors.response.use((function(e){return e.config.url.startsWith("/auth/signin")&&localStorage.setItem("TOKEN",e.data.accessToken),e}),(function(e){return 401===e.response.status&&localStorage.removeItem("TOKEN"),Promise.reject(e)})),j.interceptors.request.use((function(e){return console.log("config: ",e),e.url.startsWith("/auth")||(e.headers={"x-access-token":localStorage.getItem("TOKEN")||""}),e}),(function(e){return Promise.reject(e)}));var b=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("/auth/signin",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(g.b)({name:"auth",initialState:{error:null,currentUser:null},reducers:{setError:function(e,t){var r=t.payload;e.error=r.error},clearError:function(e){e.error=null},setCurrentUser:function(e,t){var r=t.payload;e.currentUser=r.currentUser},removeCurrentUser:function(e){e.currentUser=null}}}),I=C.reducer,m=C.actions,p=m.setError,x=(m.clearError,m.setCurrentUser),v=m.removeCurrentUser,O=function(e){return e.auth.error},h=function(){return JSON.parse(localStorage.getItem("USER_ID"))||null},f=Object(g.b)({name:"app",initialState:{isLoading:!1,isAuth:!1},reducers:{startLoading:function(e){e.isLoading=!0},stopLoading:function(e){e.isLoading=!1},authSuccess:function(e){e.isAuth=null!==localStorage.getItem("TOKEN")},logout:function(e,t){var r=t.payload;e.isAuth=r.isAuth}}}),N=f.reducer,y=f.actions,w=y.startLoading,k=y.stopLoading,L=y.authSuccess,U=y.logout,S=function(e){return e.app.isLoading},V=function(e){return e.app.isAuth},E=r(8),z=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("/users");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("/auth/signup",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.put("/users/".concat(t),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),B=Object(g.b)({name:"user",initialState:{users:[],error:null,isUpdated:!1},reducers:{setUsers:function(e,t){var r=t.payload;e.users=r.users},addUser:function(e,t){var r=t.payload;e.users.push(r)},setError:function(e,t){var r=t.payload;e.error=r.error},setIsUpdated:function(e,t){var r=t.payload;e.isUpdated=r.isUpdated}}}),R=B.reducer,M=B.actions,W=M.setUsers,G=M.addUser,K=(M.addNewValueToUser,M.setError),Z=M.setIsUpdated,X=function(e){return e.user.users},Y=function(e){return e.user.error},q=function(e){return e.user.isUpdated},J=function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K({error:null})),t(w()),e.prev=2,e.next=5,z();case 5:r=e.sent,t(W({users:r})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t(K({error:e.t0.message})),console.log(e.t0.message);case 13:return e.prev=13,t(k()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}()},P=function(e,t){return function(){var r=Object(u.a)(l.a.mark((function r(n){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(K({error:null})),n(w()),r.prev=2,r.next=5,F(e,{favourites:t});case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),n(K({error:r.t0.message}));case 10:return r.prev=10,n(k()),r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[2,7,10,13]])})));return function(e){return r.apply(this,arguments)}}()},D=function(e,t){return function(){var r=Object(u.a)(l.a.mark((function r(n){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(K({error:null})),n(w()),n(Z({isUpdated:!1})),r.prev=3,r.next=6,F(e,t);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(3),n(K({error:r.t0.message}));case 11:return r.prev=11,n(k()),n(Z({isUpdated:!0})),r.finish(11);case 15:case"end":return r.stop()}}),r,null,[[3,8,11,15]])})));return function(e){return r.apply(this,arguments)}}()},H=function(e,t){return e.find((function(e){return e._id===t}))},Q=r(0);function _(){var e=Object(A.c)(V),t=Object(A.b)(),r=h();Object(n.useEffect)((function(){t(J())}),[t]);var a=Object(A.c)(X),s=H(a,r);return console.log("auth: ",e),Object(Q.jsx)("div",{id:"wrapper-header",children:Object(Q.jsxs)("div",{className:"header",children:[Object(Q.jsx)(i.b,{to:"/",children:Object(Q.jsxs)("div",{id:"logo",children:[Object(Q.jsx)("div",{id:"logo-circle-1"}),Object(Q.jsx)("div",{id:"logo-circle-2"})]})}),0===a.length?Object(Q.jsx)("div",{}):e?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("ul",{className:"nav-top",children:[Object(Q.jsx)(i.b,{className:"nav-top-li",to:"/user/".concat(r,"/me/homepage"),children:Object(Q.jsx)("div",{id:"nav-top-me",style:{background:"url(".concat(s.img,") no-repeat center"),backgroundSize:"cover"}})}),Object(Q.jsx)("li",{children:Object(Q.jsx)(i.b,{className:"nav-top-li",to:"/users",children:"Find a partner"})})]}),Object(Q.jsx)("div",{className:"text-end",children:Object(Q.jsx)(i.b,{className:"nav-top-li",to:"/",onClick:function(){return t((function(e){localStorage.removeItem("USER_ID"),localStorage.removeItem("TOKEN"),e(v()),e(U({isAuth:!1}))}))},children:"Logout"})})]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("ul",{className:"nav-top",children:Object(Q.jsx)("li",{children:Object(Q.jsx)(i.b,{className:"nav-top-li",to:"/users",children:"Find a partner"})})}),Object(Q.jsx)("div",{className:"text-end",children:Object(Q.jsx)(i.b,{className:"nav-top-li",to:"/auth/login",children:"Login"})})]})]})})}var $=r(4),ee=r(9),te=r(7),re=r(16),ne=r(21),ae=(r(225),function(e){var t=e.text;return Object(Q.jsx)("div",{id:"box-error",children:Object(Q.jsx)("p",{id:"text-error",children:t})})}),se=(r(28),["name","label","error","type","className"]);var ce=function(e){var t=e.name,r=e.label,n=e.error,a=e.type,s=e.className,c=Object(ne.a)(e,se);return Object(Q.jsxs)("div",{className:s,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)("input",Object(E.a)({className:"width-100",type:a,name:t},c))}),Object(Q.jsx)("div",{className:"lb-reg",children:Object(Q.jsxs)("label",{htmlFor:t,children:[" ",r]})}),n&&Object(Q.jsx)(ae,{text:n})]})},ie=["label","name","options","error"];var Ae=function(e){var t=e.label,r=e.name,n=e.options,a=e.error,s=Object(ne.a)(e,ie);return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{children:Object(Q.jsx)("select",Object(E.a)(Object(E.a)({className:"width-100",id:r,name:r},s),{},{children:n.map((function(e){return null===e.value?Object(Q.jsx)("option",{value:e.value,disabled:!0,children:e.key}):Object(Q.jsx)("option",{value:e.value,placeholder:"options",children:e.key})}))}))}),Object(Q.jsx)("div",{className:"lb-reg",children:Object(Q.jsx)("label",{htmlFor:r,children:t})}),a&&Object(Q.jsx)(ae,{text:a})]})},ge=["label","name","options","error"];var oe=function(e){e.label,e.name;var t=e.options,r=e.error,n=Object(ne.a)(e,ge);return Object(Q.jsxs)("div",{className:"two-columns",children:[Object(Q.jsx)("div",{children:t.map((function(e){return Object(Q.jsxs)("label",{className:"radio-btns text-gray",htmlFor:e.value,children:[Object(Q.jsx)("input",Object(E.a)({className:"radio ",type:"radio",id:e.value,value:e.value,name:"gender"},n)),e.key]},e.key)}))}),Object(Q.jsx)("div",{}),r&&Object(Q.jsx)("p",{children:r})]})},le=["label","id","error","className"];var ue=function(e){var t=e.label,r=e.id,n=e.error,a=e.className,s=Object(ne.a)(e,le);return Object(Q.jsxs)("div",{className:a,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)("textarea",Object(E.a)({className:"width-100 reg-textarea",id:r},s))}),Object(Q.jsx)("div",{className:"lb-reg",children:Object(Q.jsx)("label",{htmlFor:r,children:t})}),n&&Object(Q.jsx)("p",{children:n})]})},de=function(){var e=a.a.useState(null),t=Object(ee.a)(e,2),r=t[0],n=t[1],s=a.a.useState(null),c=Object(ee.a)(s,2),i=c[0],g=c[1],o=Object($.g)(),d=Object(A.b)(),b=a.a.useCallback(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("image",r),console.log("data: ",r),e.next=6,j.post("/upload",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return console.log("res",e),g(e.data.location)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[r]),C=Object(A.c)(Y);console.log("errByAddUser: ",C);var I,m=[{key:"choose language",value:null},{key:"english",value:"english"},{key:"german",value:"german"},{key:"french",value:"french"},{key:"spanish",value:"spanish"},{key:"russian",value:"russian"},{key:"italian",value:"italian"},{key:"portuguese",value:"portuguese"}],p=te.b({firstName:te.d().required().min(2),lastName:te.d().required().min(2),gender:te.d().required(),email:te.d().required(),password:te.d().required(),age:te.a(),zip:te.d().required(),passwordConfirm:te.d().oneOf([te.c("password"),null],"Passwords must match"),img:te.d(),about:te.d(),description:te.d(),interests:te.d(),nativeLanguage:te.d().required("Required"),practiceLanguage:te.d().required("Required")}),x=Object(re.b)({defaultValues:{firstName:"",lastName:"",gender:"",email:"",password:"",passwordConfirm:"",age:null,img:"",about:"",zip:null,nativeLanguage:"",practiceLanguage:"",interests:"",description:""},validate:(I=p,function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,I.validate(t,{abortEarly:!1});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.inner.forEach((function(e){var t=e.path,n=e.message;return Object(re.a)(r,t,n)}));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),onSubmit:function(e,t){var r,n=t.reset;console.log("onSubmit: ",e),d((r=Object(E.a)(Object(E.a)({},e),{},{img:i}),function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K({error:null})),t(w()),e.prev=2,e.next=5,T(r);case 5:n=e.sent,t(G(Object(E.a)({},n))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("err.message: ",e.t0.message),t(K({error:e.t0.message}));case 13:return e.prev=13,t(k()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}())),n(),o("/auth/login")}}),v=x.form,O=(0,x.use)("errors",{errorWithTouched:!0});return Object(Q.jsx)("div",{className:"wrapper",children:Object(Q.jsxs)("div",{id:"wrapper-reg",children:[Object(Q.jsx)("div",{id:"box-reg-left",children:Object(Q.jsxs)("div",{children:[i?Object(Q.jsx)("div",{id:"avatar",style:{background:"url(".concat(i,") no-repeat center"),backgroundSize:"cover"},alt:"avatar"}):Object(Q.jsx)("div",{id:"avatar",style:{background:"url(".concat("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjI2ZDgyYTA4LTRlODktNGY5NC1hZTYwLWZjNGVmZWM0YTMwYjwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmYxODk4MjZlLTU5MTYtNGU1My1hM2UzLWI0MzA2MmMzYzAwNDwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/8AACwgA8ADwAQERAP/EAB0AAQACAgMBAQAAAAAAAAAAAAAHCAUGAQMEAgn/xAA7EAACAQMCAgYGCQMFAQAAAAAAAQIDBAUGEQcxEiFBYXGBEzJRkaGxCBQiNkJ0krLBM0OCUmJywvCT/9oACAEBAAA/AP1TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPipVhSg5TkoRXNyeyMZW1ZhLZ7VcxYU37JXME/mKOrMJcPalmLCo/ZG5g38zJ06sKsFKElOL5OL3R9gAAAAAAAAAAA1zVmvsPo2lvfXG9xJbwtaP2qsvLsXe9kQ7qPjnnMrKdPHQp4m3fUnFKpVa75PqXkvM0HIZa9y1R1L68r3k3216jn82eNRS5JLwRy4p80n5Hrx+WvcTUVSxvK9nNdtCq4fJm/ac455zFSjTyUaeWt11NySp1Uu6S6n5rzJi0nr7D6ypb2NxtcRW87Wt9mrHy7V3rdGxgAAAAAAAAAEW8TuLkcBKrisNONXIr7Na49aNDuXtn8F2+wgi5uq17cVK9xVnXr1H0p1KknKUn7W2dQAAO22ua1lcU69vVnQr030oVKcnGUX7U0Tvwx4uxz06WKzMo08i/s0bj1Y1+5+yXwfZ7CUgAAAAAAAACOuLvEN6Vx8cfYVOjlbqLfTjzoU+XS8XyXm+wru25NtttvrbfNnAAAAOU3FpptNdaa5osRwi4hvVWPljr+p0sraxT6cudeny6XiuT8n2kigAAAAAAAHkyuSoYbG3V9cy6FC3pyqTfcluVM1Bm7jUeZu8ldPetcTctt+qK/DFdyWyMeAAAADIafzdxpzM2mStXtWt5qW2/VJfii+5rdFs8Vk6GZxtrfW0unQuKcakH3NHrAAAAAAABF3H3Oux05a42nLad9V3ns/7cNm1+px9xAQAAAAAJ84BZ13unLrG1Jbzsau8N3/bnu0v1KXvJSAAAAAAABXvj3fu51jQt9/s21pFbd8pNv4bEagAAAAAkrgJfu21lXt9/s3NpJbd8ZJr4blhAAAAAAAAVq40tviJkO6nRS/QjRgAAAAAbxwWbXETH99Osn/8ANllgAAAAAAAV147Wbttc+la6ri1pzT8HKL+SI7AAAAABInAqzdzrn0qXVb2tSbfi1FfNligAAAAAAARD9ITCurj8ZlYR39DUlb1H3S64/GLXmQeAAAAACb/o94V0sfk8rOO3pqkbem+6PXL4yXuJfAAAAAAABitU4GlqbT99jKrUVcU3GMn+GXOMvJpMqZe2dbH3da1uKbpXFGbp1IP8Mk9mjpAAAAB3WdnWyF3Rtbem6txWmqdOC/FJvZItlpbA0tMafscZSaat6ajKS/FLnKXm22ZYAAAAAAAAhzjfoGVZPUVhT6UoxSvKcV1uK5VPLk+7Z9jIUAAAABNXBDQEqKjqO/p9GUotWdOS60nzqefJd277UTIAAAAAAAAD5nCM4uMkpRa2aa3TIG4ncI6uGqVsrhaMquPe86ttBbyoe1xXbH5eHKLOYAAAJT4YcI6uZqUcrmqMqWOW06VtNbSr+xyXZH5+HOeYQjCKjFKMUtkktkj6AAAAAAAAABHGtuC+N1FOpd42UcXfy65KMd6NR98VyfevcyGNRaDzmlpy+v2FRUVyuKS9JSf+S5eexr6e/Lr8AA3tz6vE2DTug85qmcfqFhUdF87iqvR0l/k+fluTNongvjtOzp3eSlHKX8euKlHajTfdF833v3IkgAAAAAAAAAAA4aTWzW6NfynD7TmZk53eHtZzfOcIejk/OOzNfr8DdLVpNxo3VHuhcy2+O4ocDdLUZJyo3Vbuncy2+GxsGL4facw01O0w9rCouU5w9JJect2bAkkklyRyAAAAAAAAAADjdLwMRkNYYPFb/W8tZ0JLnGVePS92+5gbvjLpO15ZN137KNCcvjtsYyrx703Dfo0r+r/xoJfOSPNL6QeDT6sfkH/jTX/YR+kHg2+vH5Bf403/ANj00uPem57dKlf0v+VBP5SZk7TjLpO655N0H7K1CcfjtsZ7H6wweV2+qZazryfKMK8el7t9zL7p+ByAAAAAAAAcN7LrNL1Lxd09pxzpK5eQuo9To2e09n3y9Ve/fuIzznHrN3zlHHUKGMpdkmvS1Pe+r4GjZTU+Xzbbv8ndXSf4alV9H9K6vgYtJLkkvAAAANJ80n4mUxep8vhGnYZO6tUvwwqvo/pfV8DecHx6zdg4xyNChk6XbJL0VT3rq+BJmmuLuntRuFJ3Lx91LqVG82hu+6Xqv379xuie63RyAAAAAAa1rLX2L0VbKV5U9JczW9K0pbOpPv7l3sgTV/E/NavlOnUrOysHytLeTUWv90ucvl3GorqW3YAAAAAAH1rbsNu0hxPzWkJQp06zvbBc7S4k3FL/AGy5x+XcT3o3X2K1rbOVnUdO6gt6tpV2VSHf3rvXwNlAAAAANC4m8TKOjLb6padCvl60d4QfXGjH/XL+F2+BXa/v7nKXlW7u607i5qvpTq1Hu5P/AN2HnAAAAAAAB6LC/uMXeUru0rTt7mk+lCrTeziyxPDLibR1nbfVLvoUMxRjvOC6o1o/64/yuzwN9AAAANf1zq2jozT1e/qJTrf06FJv+pUfJeHa+5Mq1kMhcZW+r3l3Vde5rTc6lSXa3/HceYAAAAAAAAHpx+QuMVfULy0quhc0JqdOpHmmv/ci0uhtW0dZ6eoX9NKFb+nXpJ/06i5rw7V3NGwAAAArrxu1LLM6rdhTnvbY5ej2XJ1Hs5vy6l5MjsAAAAAAAAAEicEdSyw2rFYVJ7W2Rj6PZ8lUW7g/PrXmixQAAB13FaNtQqVZ9UKcXJ+CW5Ty+vZ5K9uLuo96lxUlVk37ZNv+ToAAAAAAAAAB32N5PHXtvd03tUt6kasWvbFp/wAFw7etG5oU6sOuFSKmvBrc7AAAYvVMnDTOXkucbOs1+hlRI+rHwRyAAAAAAAAADiXqvwZbvS0nPTGIk+tuzot/oRlAAAYrVn3WzP5Kt+xlRl6q8AAAAAAAAAAA/VfgW50n91sN+So/sRlQAAYrVn3WzP5Kt+xlRl6q8AAAAAAAAAAA/VfgW50n91sN+So/sRlQAAYrVn3WzP5Kt+xlRl6q8AAAAAAAAAAA/VfgW50n91sN+So/sRlQAAYrVn3WzP5Kt+xlRl6q8AAAAAAAAAAA/VfgW50n91sN+So/sRlQD//Z",") no-repeat center"),backgroundSize:"100%"},alt:"defaultAvatar"}),Object(Q.jsx)("input",{id:"upload",type:"file",style:{display:"none"},onChange:function(e){return n(e.target.files[0])}}),Object(Q.jsxs)("div",{id:"btns-upload",children:[Object(Q.jsx)("input",{id:"btn-upload",value:"browse...",type:"button",onClick:function(){return document.getElementById("upload").click()},name:"img"}),Object(Q.jsx)("button",{id:"btn-setAvatar",onClick:b,children:"set avatar"})]})]})}),Object(Q.jsxs)("div",{className:"box-reg-right",children:[C?Object(Q.jsx)(ae,{text:C}):Object(Q.jsx)("div",{}),Object(Q.jsx)("h4",{id:"title-reg",children:"Registration form"}),Object(Q.jsxs)("form",{className:"form-registration",ref:v,method:"POST",enctype:"multipart/form-data",children:[Object(Q.jsx)(oe,{id:"gender",label:"Sex",name:"gender",options:[{key:"Male",value:"m"},{key:"Female",value:"f"}],error:O.gender}),Object(Q.jsx)(ce,{id:"firstName",type:"text",label:"First name",name:"firstName",error:O.firstName}),Object(Q.jsx)(ce,{id:"lastName",type:"text",label:"Last name",name:"lastName",error:O.lastName}),Object(Q.jsx)(ce,{id:"email",type:"email",label:"Email",name:"email",className:"two-columns",error:O.email}),Object(Q.jsx)(ce,{id:"password",type:"password",label:"Password",name:"password",error:O.password}),Object(Q.jsx)(ce,{id:"passwordConfirm",type:"password",label:"Password confirmation",name:"passwordConfirm",error:O.password}),Object(Q.jsx)(ce,{id:"age",type:"number",label:"Age",name:"age",error:O.age}),Object(Q.jsx)(ce,{id:"zip",type:"number",label:"Your ZIP(must be in Berlin)",name:"zip"}),Object(Q.jsx)(Ae,{label:"Your native language",name:"nativeLanguage",options:m,error:O.nativeLanguage}),Object(Q.jsx)(Ae,{label:"Language you want to practice",name:"practiceLanguage",options:m,error:O.practiceLanguage}),Object(Q.jsx)(ce,{id:"about",type:"text",label:"Short infomation",name:"about",className:"two-columns"}),Object(Q.jsx)(ue,{label:"Interests",id:"interests",name:"interests",error:O.interests,className:"two-columns"}),Object(Q.jsx)(ue,{label:"About yourself",id:"description",name:"description",error:O.description,className:"two-columns"}),Object(Q.jsx)("input",{className:"btn-submit",type:"submit"})]})]})]})})},je=(r(226),r(227),function(e){var t=e.text;return Object(Q.jsx)("div",{id:"box-error-login",children:Object(Q.jsx)("p",{id:"text-error-login",children:t})})}),be=function(){var e=Object(A.b)(),t=Object(A.c)(V),r=h(),n=Object(A.c)(O),a=Object(re.b)({defaultValues:{email:"",password:""},onSubmit:function(t,r){var n,a=r.reset;e((n=t,function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(p({error:null})),t(w()),e.prev=2,e.next=5,b(n);case 5:r=e.sent,console.log("login action: ",r),localStorage.setItem("USER_ID",JSON.stringify(r.id)),t(x({currentUser:r.id})),t(L()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t(p({error:e.t0.message}));case 15:return e.prev=15,t(k()),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}())),a()}}),s=a.form;return console.log("auth: ",t),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{id:"box-info-demo",children:Object(Q.jsx)("p",{id:"text-info-demo",children:"If you want to avoid registration, please use these credentials: myexample@mail.com, password: Pass123!"})}),n&&Object(Q.jsx)(je,{text:n}),Object(Q.jsxs)("div",{className:"box-login",children:[t&&Object(Q.jsx)($.a,{to:"/user/".concat(r,"/me/homepage")}),Object(Q.jsxs)("form",{ref:s,noValidate:!0,children:[Object(Q.jsx)("div",{className:"box-header",children:Object(Q.jsx)("h4",{className:"styled-h4",children:"Login"})}),Object(Q.jsxs)("div",{className:"box-body",children:[Object(Q.jsx)("div",{children:Object(Q.jsx)("input",{className:"width-100 styled-inp",name:"email",type:"email",id:"email",placeholder:" e.g. myexample@mail.com"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)("label",{className:"label text-gray",htmlFor:"email",children:"Your E-mail"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)("input",{className:"width-100 styled-inp",name:"password",type:"password",placeholder:" type your password"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)("label",{className:"label text-gray",htmlFor:"password",children:"Your password"})})]}),Object(Q.jsx)("div",{className:"box-btns",children:Object(Q.jsx)("input",{className:"btn-login",type:"submit",value:"log in"})}),Object(Q.jsxs)("div",{className:"box-footer",children:[Object(Q.jsx)("div",{children:Object(Q.jsx)("p",{className:"styled-p",children:"Don't have an account?"})}),Object(Q.jsx)("br",{}),Object(Q.jsx)(i.b,{to:"/auth/signup",children:Object(Q.jsx)("button",{className:"btn-reg",children:"Registration"})})]})]})]})]})},Ce=(r(228),r.p+"static/media/26451688.8a4c9451.jpg"),Ie=function(){return Object(Q.jsxs)("div",{id:"home-wrapper",children:[Object(Q.jsx)("img",{id:"home-bg",src:Ce,alt:"bg-home"}),Object(Q.jsx)("div",{id:"home-text",children:Object(Q.jsx)("h1",{id:"home-text-h1",children:"Practice with Us!"})})]})},me=(r(229),r(230),function(e){var t=e.user;return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{id:"user-img",style:{background:"url(".concat(t.img,") no-repeat center"),backgroundSize:"cover"}}),Object(Q.jsx)("div",{id:"user-info",children:Object(Q.jsxs)("div",{id:"user-mainInfo",children:[Object(Q.jsxs)("h4",{className:"user-name",children:[t.firstName," ",t.lastName]}),Object(Q.jsx)("p",{className:"user-card-text",children:"Native: "}),Object(Q.jsx)("p",{className:"user-card-text",children:t.nativeLanguage}),Object(Q.jsx)("p",{className:"user-card-text",children:" | "}),Object(Q.jsx)("p",{className:"user-card-text",children:"Practice: "}),Object(Q.jsx)("p",{className:"user-card-text",children:t.practiceLanguage}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("p",{className:"user-card-text",children:t.about})]})})]})}),pe=(r(231),function(){var e=Object(n.useState)(null),t=Object(ee.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(null),c=Object(ee.a)(s,2),i=c[0],A=c[1],g=Object($.g)(),o=[{key:"choose language",value:null},{key:"english",value:"english"},{key:"german",value:"german"},{key:"french",value:"french"},{key:"spanish",value:"spanish"},{key:"russian",value:"russian"},{key:"italian",value:"italian"},{key:"portuguese",value:"portuguese"}];return Object(Q.jsx)("div",{className:"wrapper",children:Object(Q.jsx)("form",{id:"form-search",children:Object(Q.jsxs)("div",{id:"wrapper-search",children:[Object(Q.jsx)("div",{className:"box-search-languages",children:Object(Q.jsxs)("div",{className:"m-center",children:[Object(Q.jsx)("div",{className:"lb-search",children:Object(Q.jsx)("label",{htmlFor:"nativeLanguage",children:"Find users by native language:"})}),Object(Q.jsx)("select",{className:"select-custom",onChange:function(e){a(e.target.value)},children:o.map((function(e,t){return Object(Q.jsx)("option",{name:"nativeLanguage",value:e.value,children:e.key},t)}))})]})}),Object(Q.jsx)("div",{className:"box-search-languages",children:Object(Q.jsxs)("div",{className:"m-center",children:[Object(Q.jsx)("div",{className:"lb-search",children:Object(Q.jsx)("label",{htmlFor:"practiceLanguage",children:"Find users by language they practice:"})}),Object(Q.jsx)("select",{className:"select-custom",onChange:function(e){A(e.target.value)},children:o.map((function(e,t){return Object(Q.jsx)("option",{name:"practiceLanguage",value:e.value,children:e.key},t)}))})]})}),Object(Q.jsx)("div",{id:"box-search-btn",children:Object(Q.jsx)("div",{className:"m-center",children:Object(Q.jsx)("button",{id:"btn-search",onClick:function(){return g(r&&i?"/users/native=".concat(r,"/practice=").concat(i):r?"/users/native=".concat(r):"/users/practice=".concat(i))},children:"search"})})})]})})})}),xe=(r(232),function(e){return Object(Q.jsx)("div",{id:"wrapper-loader",children:Object(Q.jsx)("div",{id:"box-loader",children:Object(Q.jsxs)("div",{className:"lds-ring",children:[Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{})]})})})}),ve=function(){var e=h(),t=Object(A.b)(),r=Object(A.c)(S);console.log(e),Object(n.useEffect)((function(){t(J())}),[t]);var a=Object(A.c)(X);return Object(Q.jsx)("div",{id:"wrapper",children:r?Object(Q.jsx)(xe,{}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(pe,{}),Object(Q.jsx)("div",{id:"wrapper-users",children:a.map((function(t){if(e!==t._id)return Object(Q.jsx)(i.b,{className:"inactive",id:"box",to:"/users/".concat(t._id),children:Object(Q.jsx)(me,{user:t},t._id)},t._id)}))})]})})},Oe=r.p+"static/media/copy_of_web_program_service_banner_template_14.bca1311d.png",he=(r(233),function(){return Object(Q.jsxs)("div",{className:"box-welcome",children:[Object(Q.jsx)("img",{id:"img-welcome",src:Oe,alt:"welcome-img"}),Object(Q.jsx)("p",{children:"Welcome to your profile"})]})}),fe=function(){return Object(Q.jsx)("div",{})},Ne=(r(85),function(e){var t,r=e.currentUser,n=Object(A.b)(),s=Object(A.c)(q),c=a.a.useState(null),i=Object(ee.a)(c,2),g=i[0],o=i[1],d=a.a.useState(null),b=Object(ee.a)(d,2),C=b[0],I=b[1],m=a.a.useCallback(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("image",g),console.log("data: ",g),e.next=6,j.post("/upload",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return console.log("res",e),I(e.data.location)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[g]),p=[{key:"choose language",value:null},{key:"english",value:"english"},{key:"german",value:"german"},{key:"french",value:"french"},{key:"spanish",value:"spanish"},{key:"russian",value:"russian"},{key:"italian",value:"italian"},{key:"portuguese",value:"portuguese"}],x={firstName:r.firstName,lastName:r.lastName,gender:r.gender,email:r.email,age:r.age,img:r.img,about:r.about,zip:r.zip,nativeLanguage:r.nativeLanguage,practiceLanguage:r.practiceLanguage,interests:r.interests,description:r.description},v=te.b({firstName:te.d().required().min(2),lastName:te.d().required().min(2),gender:te.d().required(),email:te.d().required(),age:te.a(),zip:te.d().required(),img:te.d(),about:te.d(),description:te.d(),interests:te.d(),nativeLanguage:te.d().required("Required"),practiceLanguage:te.d().required("Required")}),O=Object(re.b)({defaultValues:x,validate:(t=v,function(){var e=Object(u.a)(l.a.mark((function e(r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,t.validate(r,{abortEarly:!1});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.inner.forEach((function(e){var t=e.path,r=e.message;return Object(re.a)(n,t,r)}));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),onSubmit:function(e){console.log("onSubmit: ",e),console.log("isUpdated: ",s),g?(n(D(r._id,Object(E.a)(Object(E.a)({},e),{},{img:C}))),setTimeout((function(){ye()}),500)):(n(D(r._id,e)),setTimeout((function(){ye()}),500))}}),h=O.form,f=(0,O.use)("errors",{errorWithTouched:!0});return Object(Q.jsxs)("div",{id:"wrapper-profile",children:[Object(Q.jsx)("div",{id:"box-profile-information",children:Object(Q.jsxs)("div",{children:[Object(Q.jsx)("h4",{children:"Profile information: "}),Object(Q.jsxs)("form",{className:"form-profile",ref:h,method:"POST",enctype:"multipart/form-data",children:[Object(Q.jsx)(oe,{id:"gender",label:"Sex",name:"gender",options:[{key:"Male",value:"m"},{key:"Female",value:"f"}],error:f.gender}),Object(Q.jsx)(ce,{id:"firstName",type:"text",label:"First name",name:"firstName",error:f.firstName}),Object(Q.jsx)(ce,{id:"lastName",type:"text",label:"Last name",name:"lastName",error:f.lastName}),Object(Q.jsx)(ce,{id:"email",type:"email",label:"Email",name:"email",className:"two-columns",error:f.email}),Object(Q.jsx)(ce,{id:"age",type:"number",label:"Age",name:"age",error:f.age}),Object(Q.jsx)(ce,{id:"zip",type:"number",label:"Your ZIP(must be in Berlin)",name:"zip"}),Object(Q.jsx)(Ae,{label:"Your native language",name:"nativeLanguage",options:p,error:f.nativeLanguage}),Object(Q.jsx)(Ae,{label:"Language you want to practice",name:"practiceLanguage",options:p,error:f.practiceLanguage}),Object(Q.jsx)(ce,{id:"about",type:"text",label:"Short infomation",name:"about",className:"two-columns"}),Object(Q.jsx)(ue,{label:"Interests",id:"interests",name:"interests",error:f.interests,className:"two-columns"}),Object(Q.jsx)(ue,{label:"About yourself",id:"description",name:"description",error:f.description,className:"two-columns"}),Object(Q.jsx)("input",{className:"btn-submit",type:"submit"})]})]})}),Object(Q.jsxs)("div",{id:"box-profile-avatar",children:[C?Object(Q.jsx)("div",{id:"profile-avatar",style:{background:"url(".concat(C,") no-repeat center"),backgroundSize:"cover"},alt:"avatar"}):Object(Q.jsx)("div",{id:"profile-avatar",style:{background:"url(".concat(r.img,") no-repeat center"),backgroundSize:"cover"},alt:"defaultAvatar"}),Object(Q.jsx)("input",{id:"upload",type:"file",style:{display:"none"},onChange:function(e){return o(e.target.files[0])}}),Object(Q.jsxs)("div",{id:"btns-upload",children:[Object(Q.jsx)("input",{id:"btn-upload",value:"browse...",type:"button",onClick:function(){return document.getElementById("upload").click()},name:"img"}),Object(Q.jsx)("button",{id:"btn-setAvatar",onClick:m,children:"change avatar"})]})]})]})}),ye=function(){window.location.reload(!1)},we=function(){var e=h(),t=Object(A.b)(),r=Object(A.c)(X),a=H(r,e);return Object(n.useEffect)((function(){a||t(J())}),[t,a]),Object(Q.jsx)(Q.Fragment,{children:a&&Object(Q.jsx)(Ne,{currentUser:a})})},ke=(r(86),r.p+"static/media/envelope.d3049b2d.svg"),Le=r.p+"static/media/user (2).be851f03.svg",Ue=r.p+"static/media/star.3867327e.svg",Se=function(){var e=h();return Object(Q.jsx)("div",{id:"menu-left",children:Object(Q.jsxs)("ul",{className:"nav-left",children:[Object(Q.jsx)(i.b,{to:"/user/".concat(e,"/me/profile"),className:"no-decoration",children:Object(Q.jsxs)("li",{className:"nav-left-li",children:[Object(Q.jsx)("img",{id:"svg-img",src:Le,alt:"img"}),"Profile"]})}),Object(Q.jsx)(i.b,{to:"/user/".concat(e,"/me/messages"),className:"no-decoration",children:Object(Q.jsxs)("li",{className:"nav-left-li",children:[Object(Q.jsx)("img",{id:"svg-img",src:ke,alt:"img"}),"Messages"]})}),Object(Q.jsx)(i.b,{to:"/user/".concat(e,"/me/favourites"),className:"no-decoration",children:Object(Q.jsxs)("li",{className:"nav-left-li",children:[Object(Q.jsx)("img",{id:"svg-img",src:Ue,alt:"img"}),"Favourites"]})})]})})},Ve=(r(234),function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("/messages");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()),Ee=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("/messages",t);case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ze=Object(g.b)({name:"messages",initialState:{messages:[]},reducers:{setMessages:function(e,t){var r=t.payload;e.messages=r.messages},addMessage:function(e,t){var r=t.payload;e.messages.push(r)}}}),Te=ze.reducer,Fe=ze.actions,Be=Fe.setMessages,Re=Fe.addMessage,Me=function(e){return e.messages.messages},We=function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,Ve();case 4:r=e.sent,t(Be({messages:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:return e.prev=11,t(k()),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()},Ge=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(w()),t.prev=1,t.next=4,Ee(e);case 4:n=t.sent,r(Re(Object(E.a)({},n))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.message);case 11:return t.prev=11,r(k()),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},Ke=function(e){var t=e.messages,r=e.currentUserId,n=e.id,a=t.filter((function(e){return e.sentBy===n&&e.recipient===r||e.sentBy===r&&e.recipient===n}));return console.log("messages:",t),Object(Q.jsx)("div",{children:a.map((function(e,t){var n=e.createdAt.split("T")[0],a=e.createdAt.split("T")[1],s=n.split("-")[2]+"."+n.split("-")[1],c=a.split(":")[0]+":"+a.split(":")[1];return e.sentBy===r?Object(Q.jsxs)("div",{className:"right",children:[e.text,Object(Q.jsx)("p",{id:"sign",children:"me"}),Object(Q.jsxs)("p",{className:"dateAnDTimeRight",children:[s,"   ",c]})]},t):Object(Q.jsxs)("div",{className:"left",children:[e.text,Object(Q.jsxs)("p",{className:"dateAnDTimeLeft",children:[s,"   ",c]})]},t)}))})},Ze=function(){var e=Object(A.c)(X),t=Object(A.b)();Object(n.useEffect)((function(){t(J())}),[t]);var r=Object(A.c)(Me);Object(n.useEffect)((function(){var e=setInterval((function(){t(We())}),5e3);return function(){clearInterval(e),!1}}));var a=Object($.g)(),s=h(),c=Object($.h)().id,i=H(e,c),g=Object(re.b)({defaultValues:{text:""},onSubmit:function(e,r){var n=r.reset,a=Object(E.a)(Object(E.a)({},e),{},{sentBy:s,recipient:c});console.log("onSubmit: ",a),t(Ge(a)),n()}}).form;return Object(Q.jsxs)("div",{className:"container-messages",children:[Object(Q.jsxs)("div",{className:"container-messages-left",children:[Object(Q.jsx)("div",{id:"box-top-msgs",children:0===r.length?Object(Q.jsx)(xe,{}):Object(Q.jsx)(Ke,{messages:r,currentUserId:s,id:c})}),Object(Q.jsx)("div",{id:"box-bottom-input",children:Object(Q.jsxs)("form",{id:"box-bottom-form",ref:g,children:[Object(Q.jsxs)("div",{id:"box-bottom-message",children:[Object(Q.jsx)("textarea",{id:"textarea-msg",name:"text",placeholder:"Write your message"}),Object(Q.jsx)("br",{})]}),Object(Q.jsx)("button",{id:"btn-send",type:"submit",children:"Send"})]})})]}),Object(Q.jsx)("div",{className:"container-messages-right",children:0!==e.length&&Object(Q.jsxs)("div",{id:"box-right",children:[Object(Q.jsx)("div",{id:"box-right-top",children:Object(Q.jsx)("div",{id:"box-right-img",style:{background:"url(".concat(i.img,") no-repeat center"),backgroundSize:"cover"}})}),Object(Q.jsxs)("div",{id:"box-right-bottom",children:[Object(Q.jsxs)("div",{id:"box-right-bottom-info",children:[Object(Q.jsxs)("h4",{id:"text-user-name",children:[i.firstName," ",i.lastName]}),Object(Q.jsx)("p",{className:"text-user",id:"text-user-about",children:"Some user\xb4s information"}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("p",{className:"text-user",id:"text-user-learn",children:["Learn: ",i.practiceLanguage]}),Object(Q.jsxs)("p",{className:"text-user",id:"text-user-native",children:["Native: ",i.nativeLanguage]})]}),Object(Q.jsx)("div",{id:"box-right-bottom-btn",children:Object(Q.jsx)("button",{className:"right-bottom-btn",id:"btn-view-profile",onClick:function(){return a("/users/".concat(i._id))},children:"view profile"})})]})]})})]})},Xe=r(10),Ye=(r(235),r(236),function(e){var t=e.user,r=e.messages,a=e.currentUserId,s=Object(A.b)();Object(n.useEffect)((function(){s(We())}),[s]);var c=r.filter((function(e){return e.sentBy===t._id&&e.recipient===a||e.sentBy===a&&e.recipient===t._id})),i=c[c.length-1];return Object(Q.jsxs)("div",{className:"box-message",children:[Object(Q.jsx)("div",{className:"",children:Object(Q.jsx)("div",{className:"avatar",style:{background:"url(".concat(t.img,") no-repeat center"),backgroundSize:"cover"}})}),Object(Q.jsxs)("h3",{className:"msg-sentBy",children:[t.firstName," ",t.lastName]}),i?Object(Q.jsx)("p",{id:"msg-text",children:i.text}):Object(Q.jsx)("div",{})]})}),qe=function(){var e=Object(A.b)();Object(n.useEffect)((function(){e(We())}),[e]),Object(n.useEffect)((function(){e(J())}),[e]);var t=Object(A.c)(Me),r=h(),a=Object(A.c)(X),s=Object($.g)(),c=function(e,t){var r=[];return null!==e&&(r=t.filter((function(t){return t.recipient===e}))),r}(r,t),g=function(e,t){var r=[];return null!==e&&(r=t.filter((function(t){return t.sentBy===e}))),r}(r,t),o=c.filter((function(e,t,r){return r.findIndex((function(t){return t.sentBy===e.sentBy}))===t})),l=g.filter((function(e,t,r){return r.findIndex((function(t){return t.recipient===e.recipient}))===t}));o.push.apply(o,Object(Xe.a)(l));var u=o.map((function(e){return e.sentBy===r?e.recipient:e.sentBy})).filter((function(e,t,r){return r.indexOf(e)===t}));var d=function(){for(var e=[],t=0;t<u.length;t++){var r=H(a,u[t]);e.push(r)}return e}();return Object(Q.jsx)("div",{children:Object(Q.jsx)("div",{className:"container-messages",children:Object(Q.jsx)("div",{className:"allUsers-messages",children:0===t.length||0===a.length?Object(Q.jsx)("div",{}):0===d.length?Object(Q.jsxs)("div",{className:"info-box",children:[Object(Q.jsx)("p",{children:"No messages yet"}),Object(Q.jsx)("button",{id:"btn-find",onClick:function(){return s("/users")},children:"Find someone"})]}):Object(Q.jsx)("div",{children:d.map((function(e){return Object(Q.jsx)(i.b,{id:"box-msg",to:"/user/".concat(r,"/me/messages/").concat(e._id),children:Object(Q.jsx)(Ye,{user:e,users:a,messages:t,currentUserId:r},e._id)},e._id)}))})})})})},Je=(r(237),r(238),function(e){var t=e.user;return Object(Q.jsxs)("div",{id:"user-fav-box",children:[Object(Q.jsx)("div",{id:"user-fav-img",style:{background:"url(".concat(t.img,") no-repeat center"),backgroundSize:"cover"}}),Object(Q.jsx)("div",{id:"user-fav-info",children:Object(Q.jsxs)("div",{id:"user-fav-mainInfo",children:[Object(Q.jsxs)("h4",{className:"user-fav-name",children:[t.firstName," ",t.lastName]}),Object(Q.jsx)("p",{className:"user-fav-card-text",children:"Native: "}),Object(Q.jsx)("p",{className:"user-fav-card-text",children:t.nativeLanguage}),Object(Q.jsx)("p",{className:"user-card-text",children:" | "}),Object(Q.jsx)("p",{className:"user-fav-card-text",children:"Practice: "}),Object(Q.jsx)("p",{className:"user-fav-card-text",children:t.practiceLanguage}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{})]})})]})}),Pe=function(e){var t=e.users,r=h();console.log("currentuserId: ",r);var n=H(t,r),a=Object($.g)(),s=n.favourites;console.log("favouritesid: ",s);var c=function(){for(var e=[],r=function(r){var n=t.find((function(e){return e._id===s[r]}));e.push(n)},n=0;n<s.length;n++)r(n);return e}();return console.log("currentUser: ",n),console.log("favourites: ",c),Object(Q.jsx)("div",{children:0===n.favourites.length?Object(Q.jsxs)("div",{className:"info-box",children:[Object(Q.jsx)("p",{children:"No favourites yet"}),Object(Q.jsx)("button",{id:"btn-find",onClick:function(){return a("/users")},children:"Find someone"})]}):Object(Q.jsx)("div",{id:"wrapper-favourites",children:c.map((function(e){return Object(Q.jsx)(i.b,{className:"inactive",id:"box-fav",to:"/users/".concat(e._id),children:Object(Q.jsx)(Je,{user:e},e._id)},e._id)}))})})},De=function(){var e=Object(A.b)(),t=Object(A.c)(X);return Object(n.useEffect)((function(){e(J())}),[e]),Object(Q.jsx)("div",{children:t.length&&Object(Q.jsx)(Pe,{users:t})})},He=function(){var e=Object(A.c)(X);return Object(Q.jsxs)("div",{className:"container-menubar-left",children:[Object(Q.jsx)(Se,{}),0===e.length&&Object(Q.jsx)(xe,{}),Object(Q.jsxs)($.d,{children:[Object(Q.jsx)($.b,{path:"homepage",element:Object(Q.jsx)(he,{})}),Object(Q.jsx)($.b,{path:"profile",element:Object(Q.jsx)(we,{})}),Object(Q.jsx)($.b,{path:"messages/*",element:Object(Q.jsx)(qe,{})}),Object(Q.jsx)($.b,{path:"messages/:id/*",element:Object(Q.jsx)(Ze,{})}),Object(Q.jsx)($.b,{path:"favourites",element:Object(Q.jsx)(De,{})})]})]})},Qe=(r(239),r(53)),_e=r.n(Qe),$e=function(){var e=Object(A.b)(),t=Object(A.c)(V),r=Object($.g)();e(L());var a=Object($.h)().id,s=Object(A.c)(X),c=h(),i=H(s,c),g=H(s,a);Object(n.useEffect)((function(){s||e(J())}),[e,s]);var o=Object(re.b)({defaultValues:{text:""},onSubmit:function(t,r){var n=r.reset,s=Object(E.a)(Object(E.a)({},t),{},{sentBy:c,recipient:a});console.log("onSubmit: ",s),e(Ge(s)),n()}}).form;_e.a.setAppElement(document.getElementById("root"));var l=Object(n.useState)(!1),u=Object(ee.a)(l,2),d=u[0],j=u[1];function b(){j(!1)}function C(){var t=Object.assign([],i.favourites);if(t.includes(g._id)){var r=t.indexOf(g._id);console.log("index: ",r),t.splice(r,1),console.log("favourites: ",t),e(P(c,t)),setTimeout((function(){et()}),400)}else t.push(g._id),e(P(c,t)),setTimeout((function(){et()}),400)}return Object(Q.jsx)(Q.Fragment,{children:0===s.length?Object(Q.jsx)(xe,{}):Object(Q.jsxs)("div",{id:"wrapper-userView",children:[Object(Q.jsxs)("div",{className:"box",id:"box-left",children:[Object(Q.jsx)("div",{id:"box-left-top"}),Object(Q.jsx)("div",{id:"box-left-img",style:{background:"url(".concat(g.img,") no-repeat center"),backgroundSize:"cover"}}),Object(Q.jsxs)("div",{id:"box-left-bottom",children:[Object(Q.jsxs)("div",{id:"box-left-bottom-info",children:[Object(Q.jsxs)("h4",{id:"text-user-name",children:[g.firstName," ",g.lastName]}),Object(Q.jsx)("p",{className:"text-user",id:"text-user-about",children:g.about}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("p",{className:"text-user",id:"text-user-learn",children:["Learn: ",g.practiceLanguage]}),Object(Q.jsxs)("p",{className:"text-user",id:"text-user-native",children:["Native: ",g.nativeLanguage]})]}),t?Object(Q.jsxs)("div",{id:"box-left-bottom-btns",children:[Object.assign([],i.favourites).includes(g._id)?Object(Q.jsx)("button",{className:"left-bottom-btns red",id:"btn-add",onClick:function(){return C()},children:"remove contact"}):Object(Q.jsx)("button",{className:"left-bottom-btns",id:"btn-add",onClick:function(){return C()},children:"save contact"}),Object(Q.jsx)("button",{onClick:function(){j(!0)},className:"left-bottom-btns",id:"btn-contact",children:"send message"}),Object(Q.jsxs)(_e.a,{isOpen:d,onRequestClose:b,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"400px",height:"200px"}},contentLabel:"Example Modal",children:[Object(Q.jsx)("button",{id:"modal-btn-close",onClick:b,children:"X"}),Object(Q.jsx)("div",{id:"modal-title",children:"Write your message:"}),Object(Q.jsxs)("form",{ref:o,noValidate:!0,children:[Object(Q.jsx)("textarea",{id:"modal-text",name:"text"}),Object(Q.jsx)("input",{id:"modal-btn-submit",type:"submit"})]})]})]}):Object(Q.jsxs)("div",{id:"box-left-bottom-btns",children:[Object(Q.jsx)("p",{className:"text-user p-bottom",children:"Please login or register to contact a person"}),Object(Q.jsx)("button",{onClick:function(){return r("/auth/login")},className:"left-bottom-btns",id:"btn-contact",children:"login"})]})]})]}),Object(Q.jsx)("div",{className:"box",id:"box-right",children:Object(Q.jsxs)("div",{id:"box-right-content",children:[Object(Q.jsx)("div",{children:Object(Q.jsx)("h4",{children:"User Profile"})}),Object(Q.jsxs)("div",{id:"box-right-firstName",className:"box-right-style",children:[Object(Q.jsx)("p",{className:"profile-text-styled",children:"First name:"}),Object(Q.jsx)("p",{className:"profile-text-styled",children:g.firstName})]}),Object(Q.jsxs)("div",{id:"box-right-lastName",className:"box-right-style",children:[Object(Q.jsx)("p",{className:"profile-text-styled",children:"Last name:"}),Object(Q.jsx)("p",{className:"profile-text-styled",children:g.lastName})]}),Object(Q.jsxs)("div",{id:"box-right-bdate",className:"box-right-style",children:[Object(Q.jsx)("p",{className:"profile-text-styled",children:"Age:"}),Object(Q.jsx)("p",{className:"profile-text-styled",children:g.age})]}),Object(Q.jsxs)("div",{id:"box-right-address",className:"box-right-style",children:[Object(Q.jsx)("p",{className:"profile-text-styled",children:"Address:"}),Object(Q.jsxs)("p",{className:"profile-text-styled",children:["Berlin, ",g.zip]})]}),Object(Q.jsxs)("div",{id:"box-right-interests",className:"box-right-style",children:[Object(Q.jsx)("p",{className:"profile-text-styled",children:"Interests:"}),Object(Q.jsx)("p",{className:"profile-text-styled",children:g.interests})]}),Object(Q.jsxs)("div",{id:"box-right-aboutme",className:"box-right-style",children:[Object(Q.jsx)("p",{className:"profile-text-styled",children:"About me:"}),Object(Q.jsx)("p",{className:"profile-text-styled",children:g.description})]})]})}),Object(Q.jsx)("div",{className:"box",id:"box-3"})]})})},et=function(){window.location.reload(!1)},tt=function(){var e=Object($.h)(),t=e.native,r=e.practice,a=Object(A.b)(),s=h(),c=Object(A.c)(S);Object(n.useEffect)((function(){a(J())}),[a]);var g=Object(A.c)(X);console.log("native",t),console.log("practice",r);var o=g.filter((function(e){return e.nativeLanguage===t})).filter((function(e){return e.practiceLanguage===r}));return console.log("usersAfterFilterByTwolanguages: ",o),Object(Q.jsx)("div",{children:c?Object(Q.jsx)(xe,{}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(pe,{}),Object(Q.jsx)("div",{id:"wrapper-users",children:o.map((function(e){if(s!==e._id)return Object(Q.jsx)(i.b,{id:"box",to:"/users/".concat(e._id),children:Object(Q.jsx)(me,{user:e},e._id)},e._id)}))})]})})},rt=function(){var e=Object($.h)().native,t=Object(A.b)(),r=h(),a=Object(A.c)(S);Object(n.useEffect)((function(){t(J())}),[t]);var s=Object(A.c)(X).filter((function(t){return t.nativeLanguage===e}));return console.log("usersAfterFilter by Native language: ",s),Object(Q.jsx)("div",{children:a?Object(Q.jsx)(xe,{}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(pe,{}),Object(Q.jsx)("div",{id:"wrapper-users",children:s.map((function(e){if(r!==e._id)return Object(Q.jsx)(i.b,{id:"box",to:"/users/".concat(e._id),children:Object(Q.jsx)(me,{user:e},e._id)},e._id)}))})]})})},nt=function(){var e=Object($.h)().practice,t=Object(A.b)(),r=h(),a=Object(A.c)(S);Object(n.useEffect)((function(){t(J())}),[t]);var s=Object(A.c)(X).filter((function(t){return t.practiceLanguage===e}));return console.log("usersAfterFilter by Practice language: ",s),Object(Q.jsx)("div",{children:a?Object(Q.jsx)(xe,{}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(pe,{}),Object(Q.jsx)("div",{id:"wrapper-users",children:s.map((function(e){if(r!==e._id)return Object(Q.jsx)(i.b,{id:"box",to:"/users/".concat(e._id),children:Object(Q.jsx)(me,{user:e},e._id)},e._id)}))})]})})};var at=function(){var e=Object(A.c)(S);return Object(A.b)()(L()),console.log("isloading: ",e),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(_,{}),Object(Q.jsxs)($.d,{children:[Object(Q.jsx)($.b,{path:"/",element:Object(Q.jsx)(Ie,{})}),Object(Q.jsx)($.b,{path:"auth/login",element:Object(Q.jsx)(be,{})}),Object(Q.jsx)($.b,{path:"auth/signup",element:Object(Q.jsx)(de,{})}),Object(Q.jsx)($.b,{path:"users/*",element:Object(Q.jsx)(ve,{})}),Object(Q.jsx)($.b,{path:"users/:id",element:Object(Q.jsx)($e,{})}),Object(Q.jsx)($.b,{path:"blog",element:Object(Q.jsx)(fe,{})}),Object(Q.jsx)($.b,{path:"user/:id/*",element:Object(Q.jsx)(he,{})}),Object(Q.jsx)($.b,{path:"user/:id/me/*",element:Object(Q.jsx)(He,{})}),Object(Q.jsx)($.b,{path:"/users/native=:native/practice=:practice",element:Object(Q.jsx)(tt,{})}),Object(Q.jsx)($.b,{path:"/users/native=:native",element:Object(Q.jsx)(rt,{})}),Object(Q.jsx)($.b,{path:"/users/practice=:practice",element:Object(Q.jsx)(nt,{})})]})]})},st=r(15),ct=Object(g.b)({name:"img",initialState:{avatar:null,images:null},reducers:{setAvatar:function(e,t){var r=t.payload;e.avatar=r.avatar},addImg:function(e,t){var r=t.payload;e.images.push(r)}}}),it=ct.reducer,At=ct.actions,gt=(At.setAvatar,At.addImg,At.setError,Object(st.b)({user:R,app:N,messages:Te,auth:I,img:it})),ot=Object(g.a)({reducer:gt});c.a.render(Object(Q.jsx)(a.a.StrictMode,{children:Object(Q.jsx)(A.a,{store:ot,children:Object(Q.jsx)(i.a,{children:Object(Q.jsx)(at,{})})})}),document.getElementById("root"))},28:function(e,t,r){},54:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},99:function(e,t,r){}},[[249,1,2]]]);
//# sourceMappingURL=main.318c4f89.chunk.js.map